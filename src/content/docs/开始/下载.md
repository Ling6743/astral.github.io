---
title: 下载
description: 下载 Astral 最新正式版
---

## 最新版本信息

<div class="version-info">
  <div class="version-item">
    <span class="version-label">正式版:</span>
    <span id="release-version" class="version-number">获取中...</span>
  </div>
<!--   
  <div class="version-item">
    <span class="version-label">预览版:</span>
    <span id="prerelease-version" class="version-number">获取中...</span>
  </div> 
-->

</div>

#### 请在下方选择下载常见的操作系统对应的二进制文件

<div class="download-section">
  <h3>📱 Android</h3>
  <div class="download-list" data-version="release" data-keyword="app-release" data-suffix="apk">
    <ul>加载中...</ul>
  </div>
</div>

<div class="download-section">
  <h3>🪟 Windows</h3>
  <div class="download-category">
    <h4>安装包</h4>
    <div class="download-list" data-version="release" data-keyword="setup" data-suffix="exe">
      <ul>加载中...</ul>
    </div>
  </div>
  <div class="download-category">
    <h4>便携版</h4>
    <div class="download-list" data-version="release" data-keyword="windows" data-suffix="zip">
      <ul>加载中...</ul>
    </div>
  </div>
</div>

<div class="download-section">
  <h3>🐧 Linux</h3>
  <div class="download-list" data-version="release" data-keyword="linux" data-suffix="AppImage">
    <ul>加载中...</ul>
  </div>
</div>

<!-- 
<div class="download-section">
  <h3>🍎 macOS</h3>
  <div class="download-list" data-version="release" data-keyword="mac" data-suffix="dmg">
    <ul>加载中...</ul>
  </div>
</div>
-->

<script>
  const fileList = { release: [], prerelease: [] }
  const divList = document.querySelectorAll('div.download-list')
  const githubLink = 'https://github.com/ldoubil/astral/releases'
  const acceleratedLinks = [
    'https://slink.ltd/',
    'https://api-gh.muran.eu.org/'
  ]

  let releaseInfo = null
  let prereleaseInfo = null

  const getLatestRelease = async () => {
    try {
      const link = 'https://api.github.com/repos/ldoubil/astral/releases/latest'
      const response = await fetch(link).then(r => r.json())
      releaseInfo = response
      const { assets } = response
      for (const { name, browser_download_url: url } of assets) {
        fileList.release.push({ name, url })
      }
      // 更新版本号显示
      updateVersionDisplay()
    } catch (error) {
      console.error('Failed to fetch latest release:', error)
    }
  }

  const getPrerelease = async () => {
    try {
      const link = 'https://api.github.com/repos/ldoubil/astral/releases'
      const releases = await fetch(link).then(r => r.json())
      const prerelease = releases.find(release => release.prerelease)
      if (prerelease) {
        prereleaseInfo = prerelease
        const { assets } = prerelease
        for (const { name, browser_download_url: url } of assets) {
          fileList.prerelease.push({ name, url })
        }
      }
      // 更新版本号显示
      updateVersionDisplay()
    } catch (error) {
      console.error('Failed to fetch prerelease:', error)
    }
  }

  const updateVersionDisplay = () => {
    const releaseVersionElement = document.getElementById('release-version')
    const prereleaseVersionElement = document.getElementById('prerelease-version')
    
    if (releaseInfo && releaseVersionElement) {
      releaseVersionElement.innerHTML = `
        <strong>${releaseInfo.tag_name}</strong><br>
        <small>发布于: ${new Date(releaseInfo.published_at).toLocaleDateString('zh-CN')}</small>
      `
    }
    
    if (prereleaseInfo && prereleaseVersionElement) {
      prereleaseVersionElement.innerHTML = `
        <strong>${prereleaseInfo.tag_name}</strong><br>
        <small>发布于: ${new Date(prereleaseInfo.published_at).toLocaleDateString('zh-CN')}</small>
      `
    } else if (prereleaseVersionElement) {
      prereleaseVersionElement.innerHTML = '<span style="color: var(--sl-color-gray-3);">暂无预览版</span>'
    }
  }

  const populateDownloadList = () => {
    for (const div of divList) {
      const version = div.getAttribute('data-version')
      const keyword = div.getAttribute('data-keyword')
      const suffix = div.getAttribute('data-suffix')
      const ul = div.querySelector('ul')
      ul.innerHTML = ''

      const files = fileList[version] || []
      
      for (const { name, url } of files) {
        if (!name.includes(keyword)) continue
        if (!name.includes(suffix)) continue

        // 创建原始下载链接
        const originalLi = document.createElement('li')
        const originalA = document.createElement('a')
        originalA.href = url
        originalA.download = name
        originalA.innerText = `${name} (原始链接)`
        originalLi.appendChild(originalA)
        ul.appendChild(originalLi)

        // 创建加速下载链接
        acceleratedLinks.forEach((acceleratorUrl, index) => {
          const acceleratedLi = document.createElement('li')
          const acceleratedA = document.createElement('a')
          acceleratedA.href = acceleratorUrl + url
          acceleratedA.download = name
          acceleratedA.innerText = `${name} (加速链接 ${index + 1})`
          acceleratedLi.appendChild(acceleratedA)
          ul.appendChild(acceleratedLi)
        })
      }

      if (ul.children.length === 0) {
        ul.innerHTML = `未找到匹配的文件，您可以在 GitHub 查看所有文件： <a href="${githubLink}" target="_blank">GitHub Release</a>`
      }
    }
  }
  getLatestRelease()
    .then(() => {
      populateDownloadList()
    })
    .catch(() => {
      for (const div of divList) {
        const ul = div.querySelector('ul')
        ul.innerHTML = `加载失败，您可以在 GitHub 下载 Astral 的二进制文件： <a href="${githubLink}" target="_blank">GitHub Release</a>`
      }
    })

  getPrerelease()
    .catch(() => {
      console.log('No prerelease found or failed to fetch')
    })
</script>

<style>
/* 版本信息 */
.version-info {
  display: flex;
  gap: 2rem;
  margin: 1rem 0;
}

.version-item {
  margin: 0;
  padding: 0;
  background: none;
  border: none;
  border-radius: 0;
  text-align: left;
  transition: none;
}

.version-item:hover {
  transform: none;
  box-shadow: none;
}

.version-label {
  display: inline;
  color: var(--sl-color-text);
  font-size: 1rem;
  font-weight: normal;
  margin-bottom: 0;
  margin-right: 0.5rem;
}

.version-number {
  display: inline;
  font-size: 1rem;
  line-height: 1.4;
  color: var(--sl-color-text);
  font-weight: bold;
}

.version-card {
  background: linear-gradient(135deg, var(--sl-color-gray-6), var(--sl-color-gray-5));
  border: 1px solid var(--sl-color-gray-4);
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.version-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.version-card h3 {
  margin: 0 0 0.5rem 0;
  color: var(--sl-color-accent);
  font-size: 1.2rem;
}

.version-card p {
  margin: 0;
  font-size: 1rem;
  line-height: 1.4;
}

/* 下载区域样式 */
.download-section {
  margin: 2rem 0;
  padding: 1.5rem;
  background: var(--sl-color-gray-7);
  border-radius: 12px;
  border: 1px solid var(--sl-color-gray-5);
}

.download-section h3 {
  margin: 0 0 1rem 0;
  color: var(--sl-color-text);
  border-bottom: 2px solid var(--sl-color-accent);
  padding-bottom: 0.5rem;
  font-size: 1.3rem;
}

.download-category {
  margin: 1rem 0;
  padding: 1rem;
  background: var(--sl-color-bg);
  border-radius: 8px;
  border: 1px solid var(--sl-color-gray-4);
}

.download-category h4 {
  margin: 0 0 0.75rem 0;
  color: var(--sl-color-text-accent);
  font-size: 1.1rem;
}

/* 下载列表样式 */
.download-list ul {
  list-style-type: none;
  padding-left: 0;
  margin: 0;
}

.download-list li {
  margin: 0.75rem 0;
  padding: 1rem;
  background: linear-gradient(135deg, var(--sl-color-bg), var(--sl-color-gray-6));
  border: 1px solid var(--sl-color-gray-4);
  border-radius: 8px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.download-list li:hover {
  transform: translateX(4px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  border-color: var(--sl-color-accent-low);
}

.download-list a {
  text-decoration: none;
  color: var(--sl-color-text);
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.download-list a:hover {
  color: var(--sl-color-accent);
}

.download-list a::before {
  content: "📥";
  font-size: 1.2rem;
}

/* 响应式设计 */
@media (max-width: 768px) {
  .version-info {
    flex-direction: column;
    gap: 1rem;
  }
  
  .download-section {
    padding: 1rem;
  }
  
  .download-category {
    padding: 0.75rem;
  }
}

/* 深色模式优化 */
@media (prefers-color-scheme: dark) {
  .version-card {
    background: linear-gradient(135deg, var(--sl-color-gray-5), var(--sl-color-gray-4));
  }
  
  .download-list li {
    background: linear-gradient(135deg, var(--sl-color-gray-6), var(--sl-color-gray-5));
  }
}
</style>
